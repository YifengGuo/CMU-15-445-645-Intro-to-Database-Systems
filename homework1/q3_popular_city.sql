select count(*) from (select * from (select id, city as start_city from trip left join station where station.station_id = trip.start_station_id) as A left join 
(select id, city as end_city from trip left join station where station.station_id = trip.end_station_id) as B where A.id = B.id) where start_city != end_city;